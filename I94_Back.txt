read_image (Image, 'E:/Projects/3d/I94/backface/动态/Image_20190925172304404.bmp')
get_image_size (Image, Width, Height)

dev_set_draw ('margin')
dev_close_window ()
dev_open_window (0, 0, 800, 800, 'black', WindowHandle)


read_shape_model ('E:/Projects/3d/Hdevs/model_bottom', ModelID)
XCoeff := 0.0076
YCoeff := 0.0076
FAINames := []
FAIBiases := []
FAIWeights := []



* Find model
I94BottomViewMeasure (Image, FindLineRegions, LineRegions, ModelID, XCoeff, YCoeff, FAINames, FAIWeights, FAIBiases, IntersectsX, IntersectsY, Outputs, OutputsPixel, PointsXUsed, PointsYUsed, PointsXIgnored, PointsYIgnored)

numOutputs := |Outputs|
numOutputsPixel := |OutputsPixel|

dev_display (Image)
dev_set_color ('yellow')
dev_display (LineRegions)
dev_set_color ('green')
gen_cross_contour_xld (Cross, PointsYUsed, PointsXUsed, 100, 0.785398)
dev_set_color ('red')
gen_cross_contour_xld (Cross, PointsYIgnored, PointsXIgnored, 100, 0.785398)
dev_set_line_width (3)
dev_set_color ('blue')
gen_cross_contour_xld (Cross, IntersectsY, IntersectsX, 200, 0.785398)
dev_set_color ('magenta')
dev_display (FindLineRegions)
dev_set_line_width (1)

